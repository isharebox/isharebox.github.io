{"__ud_title":"同一电脑配置多github帐号","__ud_tags":["others","github"],"__ud_update_time":1770706992006,"__ud_create_time":1770706990208,"__ud_draft":false,"type":"doc","content":[{"type":"heading","attrs":{"level":1,"id":"同一电脑配置多github帐号"},"content":[{"type":"text","text":"同一电脑配置多github帐号"}]},{"type":"paragraph","content":[{"type":"text","text":"开发者会同时使用多个 GitHub 账号（比如工作账号、个人账号），如果直接共用一套 SSH 密钥，会导致权限混乱、代码提交身份错误等问题。本文将从原理到实操，教你如何为多个 GitHub 账号配置独立的 SSH 密钥，以及如何正确拉取对应账号的代码。"}]},{"type":"heading","attrs":{"level":2,"id":"一核心原理"},"content":[{"type":"text","text":"一、核心原理"}]},{"type":"paragraph","content":[{"type":"text","text":"SSH 密钥是本地与 GitHub 认证的 “身份证”，每个 GitHub 账号可绑定独立的 SSH 密钥。单台电脑区分多账号的关键是："}]},{"type":"orderedList","attrs":{"start":1,"type":null},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"为每个 GitHub 账号生成"},{"type":"text","marks":[{"type":"bold"}],"text":"独立的 SSH 密钥文件"},{"type":"text","text":"；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"通过 "},{"type":"text","marks":[{"type":"code"}],"text":"config"},{"type":"text","text":" 配置文件建立 “别名 - 密钥 - 账号” 的对应关系；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"拉取 / 推送代码时，用自定义别名替代默认的 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":"，让 Git 自动匹配对应密钥"}]}]}]},{"type":"heading","attrs":{"level":2,"id":"二前置准备"},"content":[{"type":"text","text":"二、前置准备"}]},{"type":"orderedList","attrs":{"start":1,"type":null},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"已安装 Git（Windows/macOS/Linux 均可）；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"拥有两个及以上 GitHub 账号；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"知晓本地家目录路径（Windows："},{"type":"text","marks":[{"type":"code"}],"text":"C:\\Users\\你的用户名"},{"type":"text","text":"；macOS/Linux："},{"type":"text","marks":[{"type":"code"}],"text":"/Users/你的用户名"},{"type":"text","text":" 或 "},{"type":"text","marks":[{"type":"code"}],"text":"/home/你的用户名"},{"type":"text","text":"）。"}]}]}]},{"type":"heading","attrs":{"level":2,"id":"三实操步骤以-2-个-GitHub-账号为例"},"content":[{"type":"text","text":"三、实操步骤（以 2 个 GitHub 账号为例）"}]},{"type":"heading","attrs":{"level":3,"id":"步骤-1为不同-GitHub-账号生成独立-SSH-密钥"},"content":[{"type":"text","text":"步骤 1：为不同 GitHub 账号生成独立 SSH 密钥"}]},{"type":"paragraph","content":[{"type":"text","text":"打开终端（Windows 用 Git Bash/CMD，macOS/Linux 用终端），分别为两个账号生成密钥（文件名需区分，比如 "},{"type":"text","marks":[{"type":"code"}],"text":"github_rsa_work"},{"type":"text","text":"（工作）、"},{"type":"text","marks":[{"type":"code"}],"text":"github_rsa_personal"},{"type":"text","text":"（个人））。"}]},{"type":"heading","attrs":{"level":4,"id":"命令格式"},"content":[{"type":"text","text":"命令格式"}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"# 生成工作账号密钥（替换为工作账号邮箱）\nssh-keygen -t ed25519 -C \"work@example.com\" -f $HOME/.ssh/github_rsa_work\n\n# 生成个人账号密钥（替换为个人账号邮箱）\nssh-keygen -t ed25519 -C \"personal@example.com\" -f $HOME/.ssh/github_rsa_personal\n"}]},{"type":"heading","attrs":{"level":4,"id":"执行交互"},"content":[{"type":"text","text":"执行交互"}]},{"type":"paragraph","content":[{"type":"text","text":"命令执行后会提示输入 “密码短语（passphrase）”，建议直接按回车留空（方便日常使用；若设置密码，每次拉 / 推代码需验证）："}]},{"type":"paragraph","content":[{"type":"text","text":"plaintext"}]},{"type":"codeBlock","attrs":{"language":"yaml"},"content":[{"type":"text","text":"Enter passphrase (empty for no passphrase):  # 回车\nEnter same passphrase again:  # 再次回车\n"}]},{"type":"heading","attrs":{"level":4,"id":"验证生成结果"},"content":[{"type":"text","text":"验证生成结果"}]},{"type":"paragraph","content":[{"type":"text","text":"执行后会在 "},{"type":"text","marks":[{"type":"code"}],"text":"~/.ssh"},{"type":"text","text":" 目录下生成 4 个文件："}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"工作账号："},{"type":"text","marks":[{"type":"code"}],"text":"github_rsa_work"},{"type":"text","text":"（私钥）、"},{"type":"text","marks":[{"type":"code"}],"text":"github_rsa_work.pub"},{"type":"text","text":"（公钥）；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"个人账号："},{"type":"text","marks":[{"type":"code"}],"text":"github_rsa_personal"},{"type":"text","text":"（私钥）、"},{"type":"text","marks":[{"type":"code"}],"text":"github_rsa_personal.pub"},{"type":"text","text":"（公钥）。"}]}]}]},{"type":"heading","attrs":{"level":3,"id":"步骤-2将公钥分别添加到对应-GitHub-账号"},"content":[{"type":"text","text":"步骤 2：将公钥分别添加到对应 GitHub 账号"}]},{"type":"paragraph","content":[{"type":"text","text":"SSH 密钥分 “公钥” 和 “私钥”，需将公钥上传到 GitHub 账号，私钥保存在本地。"}]},{"type":"heading","attrs":{"level":4,"id":"1-复制公钥内容"},"content":[{"type":"text","text":"1. 复制公钥内容"}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"# 复制工作账号公钥（Windows 用 type 替代 cat）\ncat ~/.ssh/github_rsa_work.pub\n\n# 复制个人账号公钥\ncat ~/.ssh/github_rsa_personal.pub\n"}]},{"type":"paragraph","content":[{"type":"text","text":"复制终端输出的完整内容（以 "},{"type":"text","marks":[{"type":"code"}],"text":"ssh-ed25519"},{"type":"text","text":" 开头，邮箱结尾）。"}]},{"type":"heading","attrs":{"level":4,"id":"2-上传公钥到-GitHub"},"content":[{"type":"text","text":"2. 上传公钥到 GitHub"}]},{"type":"paragraph","content":[{"type":"text","text":"以工作账号为例，操作流程："}]},{"type":"orderedList","attrs":{"start":1,"type":null},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"登录工作 GitHub 账号 → 点击右上角头像 → "},{"type":"text","marks":[{"type":"code"}],"text":"Settings"},{"type":"text","text":"；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"左侧菜单选择 "},{"type":"text","marks":[{"type":"code"}],"text":"SSH and GPG keys"},{"type":"text","text":" → 点击 "},{"type":"text","marks":[{"type":"code"}],"text":"New SSH key"},{"type":"text","text":"；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code"}],"text":"Title"},{"type":"text","text":"：填备注（如 "},{"type":"text","marks":[{"type":"code"}],"text":"Mac-work-github"},{"type":"text","text":"），便于识别；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code"}],"text":"Key"},{"type":"text","text":"：粘贴复制的公钥内容 → 点击 "},{"type":"text","marks":[{"type":"code"}],"text":"Add SSH key"},{"type":"text","text":"；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"重复上述步骤，将个人账号的公钥上传到个人 GitHub 账号。"}]}]}]},{"type":"heading","attrs":{"level":3,"id":"步骤-3配置-SSH-config-文件核心"},"content":[{"type":"text","text":"步骤 3：配置 SSH config 文件（核心）"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"code"}],"text":"config"},{"type":"text","text":" 文件是 Git 识别不同账号密钥的 “规则表”，需在 "},{"type":"text","marks":[{"type":"code"}],"text":".ssh"},{"type":"text","text":" 目录下创建 / 编辑该文件。"}]},{"type":"heading","attrs":{"level":4,"id":"1-打开-config-文件"},"content":[{"type":"text","text":"1. 打开 config 文件"}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"# Windows/macOS/Linux 通用（无文件则新建）\nvim ~/.ssh/config\n"}]},{"type":"heading","attrs":{"level":4,"id":"2-写入配置内容"},"content":[{"type":"text","text":"2. 写入配置内容"}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"# 工作 GitHub 账号配置\nHost github-work  # 自定义别名（可任意命名，如 github-work）\n    HostName github.com  # 固定为 github.com，不可改\n    User git  # 固定为 git，不是你的 GitHub 用户名\n    IdentityFile ~/.ssh/github_rsa_work  # 绑定工作账号私钥\n    PreferredAuthentications publickey\n\n# 个人 GitHub 账号配置\nHost github-personal  # 自定义别名（如 github-personal）\n    HostName github.com\n    User git\n    IdentityFile ~/.ssh/github_rsa_personal  # 绑定个人账号私钥\n    PreferredAuthentications publickey\n"}]},{"type":"heading","attrs":{"level":4,"id":"3-保存并设置权限"},"content":[{"type":"text","text":"3. 保存并设置权限"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"vim 中按 "},{"type":"text","marks":[{"type":"code"}],"text":"Esc"},{"type":"text","text":" → 输入 "},{"type":"text","marks":[{"type":"code"}],"text":":wq"},{"type":"text","text":" → 回车保存；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"设置文件权限（避免 SSH 认证失败，macOS/Linux 必做，Windows 可选）："}]},{"type":"codeBlock","attrs":{"language":null},"content":[{"type":"text","text":"  "}]}]}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph"}]}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"# 设置 config 文件权限\nchmod 600 ~/.ssh/config\n# 设置私钥权限\nchmod 600 ~/.ssh/github_rsa_work\nchmod 600 ~/.ssh/github_rsa_personal\n"}]},{"type":"heading","attrs":{"level":3,"id":"步骤-4测试-SSH-连接"},"content":[{"type":"text","text":"步骤 4：测试 SSH 连接"}]},{"type":"paragraph","content":[{"type":"text","text":"验证每个账号是否能正常认证："}]},{"type":"codeBlock","attrs":{"language":"perl"},"content":[{"type":"text","text":"# 测试工作账号\nssh -T git@github-work\n\n# 测试个人账号\nssh -T git@github-personal\n"}]},{"type":"paragraph","content":[{"type":"text","text":"若返回 "},{"type":"text","marks":[{"type":"code"}],"text":"Hi [你的账号名]! You've successfully authenticated..."},{"type":"text","text":"，说明配置生效。"}]},{"type":"heading","attrs":{"level":2,"id":"四拉取对应账号的代码实操"},"content":[{"type":"text","text":"四、拉取对应账号的代码（实操）"}]},{"type":"paragraph","content":[{"type":"text","text":"配置完成后，拉取代码的核心是"},{"type":"text","marks":[{"type":"bold"}],"text":"用自定义别名替换仓库地址中的 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":"。"}]},{"type":"heading","attrs":{"level":3,"id":"场景-1克隆新仓库"},"content":[{"type":"text","text":"场景 1：克隆新仓库"}]},{"type":"heading","attrs":{"level":4,"id":"1-复制仓库-SSH-地址"},"content":[{"type":"text","text":"1. 复制仓库 SSH 地址"}]},{"type":"paragraph","content":[{"type":"text","text":"登录对应 GitHub 账号 → 打开仓库 → 点击 "},{"type":"text","marks":[{"type":"code"}],"text":"Code"},{"type":"text","text":" → "},{"type":"text","marks":[{"type":"code"}],"text":"SSH"},{"type":"text","text":" → 复制地址（如 "},{"type":"text","marks":[{"type":"code"}],"text":"git@github.com:work-account/project.git"},{"type":"text","text":"）。"}]},{"type":"heading","attrs":{"level":4,"id":"2-替换别名并克隆"},"content":[{"type":"text","text":"2. 替换别名并克隆"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"工作仓库：将 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":" 替换为 "},{"type":"text","marks":[{"type":"code"}],"text":"github-work"}]},{"type":"codeBlock","attrs":{"language":null},"content":[{"type":"text","text":"  "}]}]}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph"}]}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"git clone git@github-work:work-account/project.git\n"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"个人仓库：将 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":" 替换为 "},{"type":"text","marks":[{"type":"code"}],"text":"github-personal"}]},{"type":"codeBlock","attrs":{"language":null},"content":[{"type":"text","text":"  "}]}]}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph"}]}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"git clone git@github-personal:personal-account/notes.git\n"}]},{"type":"heading","attrs":{"level":3,"id":"场景-2修改已克隆仓库的远程地址"},"content":[{"type":"text","text":"场景 2：修改已克隆仓库的远程地址"}]},{"type":"paragraph","content":[{"type":"text","text":"若仓库已克隆（默认用 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":" 地址），需修改远程地址匹配对应账号："}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"# 进入仓库目录\ncd project\n# 修改为工作账号地址\ngit remote set-url origin git@github-work:work-account/project.git\n"}]},{"type":"heading","attrs":{"level":3,"id":"补充设置提交身份避免信息混淆"},"content":[{"type":"text","text":"补充：设置提交身份（避免信息混淆）"}]},{"type":"paragraph","content":[{"type":"text","text":"SSH 解决 “认证” 问题，而提交代码的身份由 "},{"type":"text","marks":[{"type":"code"}],"text":"user.name"},{"type":"text","text":"/"},{"type":"text","marks":[{"type":"code"}],"text":"user.email"},{"type":"text","text":" 决定，需为每个仓库单独设置："}]},{"type":"codeBlock","attrs":{"language":"arduino"},"content":[{"type":"text","text":"# 进入工作仓库，设置工作账号信息\ngit config user.name \"WorkName\"\ngit config user.email \"work@example.com\"\n\n# 进入个人仓库，设置个人账号信息\ngit config user.name \"PersonalName\"\ngit config user.email \"personal@example.com\"\n"}]},{"type":"paragraph","content":[{"type":"text","text":"⚠️ 不要用 "},{"type":"text","marks":[{"type":"code"}],"text":"git config --global"},{"type":"text","text":" 全局设置，否则会导致所有仓库提交信息混乱。"}]},{"type":"heading","attrs":{"level":2,"id":"五常见问题排查"},"content":[{"type":"text","text":"五、常见问题排查"}]},{"type":"orderedList","attrs":{"start":1,"type":null},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"Permission denied (publickey)"},{"type":"text","text":" ："}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"检查 "},{"type":"text","marks":[{"type":"code"}],"text":"config"},{"type":"text","text":" 文件中私钥路径是否正确；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"确认公钥已上传到对应 GitHub 账号；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"验证私钥 /"},{"type":"text","marks":[{"type":"code"}],"text":"config"},{"type":"text","text":" 文件权限是否为 600（macOS/Linux）。"}]}]}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"拉取代码时提示 “仓库不存在”"},{"type":"text","text":" ："}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"检查别名是否正确（如把 "},{"type":"text","marks":[{"type":"code"}],"text":"github-work"},{"type":"text","text":" 写成 "},{"type":"text","marks":[{"type":"code"}],"text":"github-work1"},{"type":"text","text":"）；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"确认仓库地址中的账号名、项目名无误。"}]}]}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"提交代码后身份错误"},{"type":"text","text":"："}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"未为仓库单独设置 "},{"type":"text","marks":[{"type":"code"}],"text":"user.name"},{"type":"text","text":"/"},{"type":"text","marks":[{"type":"code"}],"text":"user.email"},{"type":"text","text":"，需补充设置。"}]}]}]}]}]},{"type":"heading","attrs":{"level":2,"id":"六扩展添加更多-GitHub-账号"},"content":[{"type":"text","text":"六、扩展：添加更多 GitHub 账号"}]},{"type":"paragraph","content":[{"type":"text","text":"若需配置第三个及以上账号，只需重复以下步骤："}]},{"type":"orderedList","attrs":{"start":1,"type":null},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"生成新密钥："},{"type":"text","marks":[{"type":"code"}],"text":"ssh-keygen -t ed25519 -C \"new@example.com\" -f ~/.ssh/github_rsa_new"},{"type":"text","text":"；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"上传新公钥到对应 GitHub 账号；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"在 "},{"type":"text","marks":[{"type":"code"}],"text":"config"},{"type":"text","text":" 文件中新增一段配置（自定义新别名，绑定新私钥）；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"拉取代码时用新别名替换 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":"。"}]}]}]},{"type":"heading","attrs":{"level":2,"id":"总结"},"content":[{"type":"text","text":"总结"}]},{"type":"orderedList","attrs":{"start":1,"type":null},"content":[{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"多 GitHub 账号配置的核心是 “独立密钥 + config 别名绑定”；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"拉取代码的关键是用自定义别名替代 "},{"type":"text","marks":[{"type":"code"}],"text":"github.com"},{"type":"text","text":"；"}]}]},{"type":"listItem","content":[{"type":"paragraph","content":[{"type":"text","text":"提交代码时需为仓库单独设置 "},{"type":"text","marks":[{"type":"code"}],"text":"user.name"},{"type":"text","text":"/"},{"type":"text","marks":[{"type":"code"}],"text":"user.email"},{"type":"text","text":"，避免身份混淆。通过以上配置，单台电脑可无缝切换多个 GitHub 账号，既保证了权限隔离，又能高效管理不同账号的代码仓库。"}]}]}]}]}