{"__ud_title":"基于Claude Code搭建小红书美食手账图文生成工具","__ud_tags":["Agentic Engineering","aiskills"],"__ud_update_time":1770975697321,"__ud_create_time":1770975695916,"__ud_draft":false,"type":"doc","content":[{"type":"heading","attrs":{"level":1,"id":null},"content":[{"type":"text","text":"基于Claude Code搭建小红书美食手账图文生成工具"}]},{"type":"image","attrs":{"src":"/post-assets/mlkp7cir-image.png","alt":"image.png","title":null}},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"1."},{"type":"text","text":" "},{"type":"text","marks":[{"type":"bold"}],"text":"交互进化"}]},{"type":"paragraph","content":[{"type":"text","text":"Claude Skills 只需要像老板一样下达自然语言指令。"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"2."},{"type":"text","text":" "},{"type":"text","marks":[{"type":"bold"}],"text":"灵活多变"}]},{"type":"paragraph","content":[{"type":"text","text":"想换个图片风格？只需直接告诉 Claude"},{"type":"text","marks":[{"type":"bold"}],"text":"换个鲜艳点的颜色"},{"type":"text","text":"，它能听懂人话并动态调整。"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"3."},{"type":"text","text":" "},{"type":"text","marks":[{"type":"bold"}],"text":"本地直连"}]},{"type":"paragraph","content":[{"type":"text","text":"Claude Skills 直接运行在本地终端，生成的图片在你的文件夹里"}]},{"type":"heading","attrs":{"level":3,"id":"搭建项目"},"content":[{"type":"text","text":"搭建项目"}]},{"type":"paragraph","content":[{"type":"text","text":"话不多说，正式开始搭建。本文的Agent Skill目录结构设计如下："}]},{"type":"codeBlock","attrs":{"language":"bash"},"content":[{"type":"text","text":"xiaohongshu-card-maker/\n├── SKILL.md          # 必填：使用说明 + 元数据\n├── scripts/          # 必填：可执行代码\n├── references/       # 可选：文档资料\n└── assets/           # 可选：模板、资源文件\n└── output/            # 必填：输出手账图片的目录\n"}]},{"type":"paragraph","content":[{"type":"text","text":"基于目录设计，在.claude目录下新建项目文件夹，如下图所示，我在F:\\skill-project.claude\\skills\\目录下新建了xiaohongshu-card-maker目录。"}]},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"1."},{"type":"text","text":" "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://编写skill.md","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"bold"}],"text":"编写skill.md"},{"type":"text","marks":[{"type":"bold"}],"text":"。"}]},{"type":"paragraph","content":[{"type":"text","text":"从下图可知这个skill名叫xiaohongshu-card-master。它的角色是小红书爆款手账专家，它的主要职责是围绕"},{"type":"text","marks":[{"type":"code"}],"text":"小八"},{"type":"text","text":"来制作美食手账。"}]},{"type":"paragraph","content":[{"type":"text","text":"这是我编写提示词的思路，你可以基于我的投喂给豆包来扩写："}]},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"1. 接收用户输入的菜名\n2. 调用generate.py进行生图操作\n图片布局：\n- 采用垂直模块化网格，使用手绘直线、虚线或“纸胶带”进行区域分割。\n- 关键步骤间使用手写感的箭头或圆点连接，形成清晰的阅读动线。\n图片风格：\n-现代简约 Ins 风“精装修”手账，融合矢量插画的精准与水彩画风的温馨。\n-IP形象固定为小八。\n3. 将生成的图片写入output文件夹\n"}]},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"}],"text":"2."},{"type":"text","text":" "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://编写generate.py","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"bold"}],"text":"编写generate.py"}]},{"type":"paragraph","content":[{"type":"text","text":"来到.claude/skills/xiaohongshu-card-maker/scripts目录下，"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://编写generate.py","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"编写"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://编写generate.py","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"bold"}],"text":"generate.py"},{"type":"text","text":"代码。"}]},{"type":"paragraph","content":[{"type":"text","text":"代码的思路，给ai来扩写："}]},{"type":"codeBlock","attrs":{"language":"markdown"},"content":[{"type":"text","text":"1. 接收参数：通过命令行接收 Claude 传来的绘画提示词 (--prompt)。\n2. 调用接口：将提示词发送给云端绘图 API（代码中配置的 kg-api.cloud），并指定使用 nano-banana-2-4k模型进行生成。\n3. 自动下载：拿到生成的图片链接后，自动将其下载并保存到本地的 output 文件夹中，并按时间戳命名。\n"}]},{"type":"heading","attrs":{"level":3,"id":"测试"},"content":[{"type":"text","text":"测试"}]},{"type":"paragraph","content":[{"type":"text","text":"回到.claude上级目录，在文件路径处输入"},{"type":"text","marks":[{"type":"code"}],"text":"cmd"},{"type":"text","text":"打开命令提示符，输入"},{"type":"text","marks":[{"type":"code"}],"text":"claude"},{"type":"text","text":"进入claude code，再输入  有哪些可用的skill，可以看到下图中，生成小红书手账卡片的skill已经被成功添加。"}]},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","text":"输入命令:    帮我生成制作糖醋里脊的小红书手账卡片"}]},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","text":"等待几分钟，手账卡片就制作完成了。"}]},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","text":"来到output文件夹可以看到糖醋里脊的制作手账图文已经存在。"}]},{"type":"paragraph"},{"type":"image","attrs":{"src":"/post-assets/mlkp7cir-image.png","alt":"image.png","title":null}},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","text":"以上就是整个skill构建的完整流程拆解. 仅用两个文件（SKILL.md 和 generate.py）就完成"}]}]}