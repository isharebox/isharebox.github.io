{"__ud_title":"Scheduled task: termux+claude code cli","__ud_tags":["ai"],"__ud_update_time":1770776040218,"__ud_create_time":1770776038379,"__ud_draft":false,"type":"doc","content":[{"type":"heading","attrs":{"level":1,"id":null},"content":[{"type":"text","text":"Scheduled task: termux+claude code cli"}]},{"type":"paragraph","content":[{"type":"hardBreak"},{"type":"text","text":"### Short answer  "},{"type":"hardBreak"},{"type":"text","text":"Yes – you can have a **self‑hosted “run” of a workflow on your Android device on a schedule**, but you’ll need to use a tool that can execute code on Android on a regular timer (e.g. **Termux + cron**, **Tasker**, or a **cloud‑based runner**).  "},{"type":"hardBreak"},{"type":"text","text":"The most reliable way is to **off‑load the scheduled execution to a separate machine that can reach your repo** (e.g. a cheap VPS, GitHub Actions, or a Raspberry Pi) and let it trigger the workflow on your device only when you need it.  "},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"Below you’ll find three practical paths, the pros/cons of each, and concrete step‑by‑step instructions for the one most likely to work out‑of‑the‑box on an Android phone: **run a tiny “scheduler” inside Termux**."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"## 1️⃣ Why Android isn’t a natural host for scheduled jobs"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"| Limitation | What it means for you |"},{"type":"hardBreak"},{"type":"text","text":"|------------|-----------------------|"},{"type":"hardBreak"},{"type":"text","text":"| **No native "},{"type":"text","marks":[{"type":"code"}],"text":"cron"},{"type":"text","text":"** | Android’s init system (init.rc) doesn’t expose a user‑level scheduler. |"},{"type":"hardBreak"},{"type":"text","text":"| **Background execution limits** | Starting with Android 12 the OS aggressively kills background processes; a script that just sleeps won’t survive reboots or Doze mode. |"},{"type":"hardBreak"},{"type":"text","text":"| **No persistent system services** | You can’t register a "},{"type":"text","marks":[{"type":"code"}],"text":"BroadcastReceiver"},{"type":"text","text":" that fires at a fixed wall‑clock time without user interaction (unless the app is a foreground service or uses "},{"type":"text","marks":[{"type":"code"}],"text":"WorkManager"},{"type":"text","text":"). |"},{"type":"hardBreak"},{"type":"text","text":"| **No built‑in "},{"type":"text","marks":[{"type":"code"}],"text":"systemd"},{"type":"text","text":"** | Systemd‑style timers are unavailable. |"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"That’s why most people who want "},{"type":"text","marks":[{"type":"italic"}],"text":"real"},{"type":"text","text":" scheduled automation on Android rely on **Termux** (a Linux‑like environment) or **Tasker** (a UI‑driven automation app).  "},{"type":"hardBreak"},{"type":"text","text":"Both can schedule commands, but they have trade‑offs (see the table later)."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"## 2️⃣ Three practical ways to run a scheduled workflow"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"| Approach | Where the scheduled trigger lives | Where the actual workflow runs | Setup complexity | Typical use‑case |"},{"type":"hardBreak"},{"type":"text","text":"|----------|----------------------------------|--------------------------------|------------------|-----------------|"},{"type":"hardBreak"},{"type":"text","text":"| **A. Termux + cron (or "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":")** | Inside Termux on the phone itself | Directly on the phone (calls your repo) | Low‑moderate (install Termux, add a script, enable scheduler) | You want the job to run "},{"type":"text","marks":[{"type":"italic"}],"text":"on the phone"},{"type":"text","text":" (e.g., lint, test, push a notification). |"},{"type":"hardBreak"},{"type":"text","text":"| **B. Tasker (or Automate) → "},{"type":"text","marks":[{"type":"code"}],"text":"adbTermux"},{"type":"text","text":"** | Tasker’s built‑in scheduler | Same as A, but Tasker can use UI tricks to keep the script alive | Low (no terminal knowledge needed) | You already use Tasker for other phone automations and want a quick “run every night” job. |"},{"type":"hardBreak"},{"type":"text","text":"| **C. Off‑load to a remote scheduler (GitHub Actions, a cheap VPS, or a Raspberry Pi)** | Remote cloud / server (cron, GitHub schedule) | Runs on the remote host, optionally triggers your phone via SSH or an API | Moderate‑high (need external infra) | You need a reliable, always‑on schedule that survives reboots, battery‑saving, etc. |"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### TL;DR – The easiest “phone‑only” solution  "},{"type":"hardBreak"},{"type":"text","text":"**Termux + "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":"** (a wrapper that works even when the app is in the background).  "},{"type":"hardBreak"},{"type":"text","text":"It lets you register a "},{"type":"text","marks":[{"type":"italic"}],"text":"one‑off"},{"type":"text","text":" or "},{"type":"text","marks":[{"type":"italic"}],"text":"repeating"},{"type":"text","text":" job that executes a script at a specific wall‑clock time or interval."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"## 3️⃣ Detailed walkthrough – Scheduling with Termux"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"> **Prerequisites**  "},{"type":"hardBreak"},{"type":"text","text":"> "},{"type":"text","marks":[{"type":"italic"}],"text":" Android 8+ (most modern phones)  "},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"> "},{"type":"text","text":" Root is **not** required  "},{"type":"hardBreak"},{"type":"text","text":"> "},{"type":"text","marks":[{"type":"italic"}],"text":" You have "},{"type":"text","marks":[{"type":"code"}],"text":"git"},{"type":"text","marks":[{"type":"italic"}],"text":" credentials (PAT or SSH key) already stored in Termux if you need to "},{"type":"text","marks":[{"type":"code"}],"text":"git pullpush"},{"type":"text","marks":[{"type":"italic"}],"text":"."},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"### 3.1 Install Termux & required packages"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"1. "},{"type":"text","text":"*Install from F-Droid** (recommended, always up‑to‑date):  "},{"type":"hardBreak"},{"type":"text","text":"   ```bash"},{"type":"hardBreak"},{"type":"text","text":"   pkg install termux-api  # optional, gives access to notifications / vibration"},{"type":"hardBreak"},{"type":"text","text":"   ```"},{"type":"hardBreak"},{"type":"text","text":"2. **Open Termux and run:**"},{"type":"hardBreak"},{"type":"text","text":"   ```bash"},{"type":"hardBreak"},{"type":"text","text":"   pkg update && pkg upgrade -y"},{"type":"hardBreak"},{"type":"text","text":"   pkg install git python clang python-dev  # plus whatever you need for your workflow"},{"type":"hardBreak"},{"type":"text","text":"   pkg install termux-tools   # provides "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"hardBreak"},{"type":"text","text":"   ```"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### 3.2 Put your workflow script somewhere"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"Assume your workflow is a Python script "},{"type":"text","marks":[{"type":"code"}],"text":"~/workflows/my_job.py"},{"type":"text","text":" that you want to run every day at 02:30 AM."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"```bash"},{"type":"hardBreak"},{"type":"text","text":"mkdir -p ~/workflows"},{"type":"hardBreak"},{"type":"text","text":"cat > ~/workflows/my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.py","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.py"},{"type":"text","text":" <<'EOF'"},{"type":"hardBreak"},{"type":"text","text":"#!/usr/bin/env python3"},{"type":"hardBreak"},{"type":"text","text":"import os, sys, subprocess, datetime, json"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"# Example: pull latest changes, run tests, commit & push"},{"type":"hardBreak"},{"type":"text","text":"def main():"},{"type":"hardBreak"},{"type":"text","text":"    os.chdir(os.path.expanduser('~/my-repo'))   # <-- your repo folder"},{"type":"hardBreak"},{"type":"text","text":"    "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://subprocess.run","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"subprocess.run"},{"type":"text","text":"(['git', 'pull'], check=True)"},{"type":"hardBreak"},{"type":"text","text":"    # ... your test / lint commands here ..."},{"type":"hardBreak"},{"type":"text","text":"    "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://subprocess.run","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"subprocess.run"},{"type":"text","text":"(['git', 'add', '.'], check=True)"},{"type":"hardBreak"},{"type":"text","text":"    "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://subprocess.run","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"subprocess.run"},{"type":"text","text":"(['git', 'commit', '-m', f'Scheduled run {"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://datetime.datetime.now","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"datetime.datetime.now"},{"type":"text","text":"()}'], check=False)"},{"type":"hardBreak"},{"type":"text","text":"    "},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://subprocess.run","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"subprocess.run"},{"type":"text","text":"(['git', 'push'], check=False)"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"if "},{"type":"text","marks":[{"type":"bold"}],"text":"name"},{"type":"text","text":" == '__main__':"},{"type":"hardBreak"},{"type":"text","text":"    main()"},{"type":"hardBreak"},{"type":"text","text":"EOF"},{"type":"hardBreak"},{"type":"text","text":"chmod +x ~/workflows/my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.py","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.py"},{"type":"hardBreak"},{"type":"text","text":"```"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### 3.3 Create a tiny wrapper script that the scheduler will call"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"```bash"},{"type":"hardBreak"},{"type":"text","text":"cat > ~/workflows/run_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.sh"},{"type":"text","text":" <<'EOF'"},{"type":"hardBreak"},{"type":"text","text":"#!/data/data/com.termux/files/usr/bin/bash"},{"type":"hardBreak"},{"type":"text","text":"# This script is executed by termux-job-scheduler"},{"type":"hardBreak"},{"type":"text","text":"# It just calls your actual job script and logs the output."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"LOG=~/workflows/run_my_job.log"},{"type":"hardBreak"},{"type":"text","text":"{"},{"type":"hardBreak"},{"type":"text","text":"    echo \"=== $(date) ===\""},{"type":"hardBreak"},{"type":"text","text":"    ~/workflows/my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.py","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.py"},{"type":"hardBreak"},{"type":"text","text":"} >>\"$LOG\" 2>&1"},{"type":"hardBreak"},{"type":"text","text":"EOF"},{"type":"hardBreak"},{"type":"text","text":"chmod +x ~/workflows/run_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.sh"},{"type":"hardBreak"},{"type":"text","text":"```"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### 3.4 Register the job with "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"hardBreak"},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":" lets you schedule **repeating** jobs using a "},{"type":"text","marks":[{"type":"italic"}],"text":"job id"},{"type":"text","text":" and a "},{"type":"text","marks":[{"type":"italic"}],"text":"cron‑like"},{"type":"text","text":" spec."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"```bash"},{"type":"hardBreak"},{"type":"text","text":"# Example: run every day at 02:30 (24‑hour clock)"},{"type":"hardBreak"},{"type":"text","text":"termux-job-scheduler --schedule \"30 2 * * *\""},{"type":"hardBreak"},{"type":"text","text":"# The command after "},{"type":"text","marks":[{"type":"code"}],"text":"--"},{"type":"text","text":" is what will be executed when the time arrives"},{"type":"hardBreak"},{"type":"text","text":"termux-job-scheduler --job-id my_daily_job --schedule \"30 2 * * "},{"type":"text","marks":[{"type":"italic"}],"text":"\" --command \"/data/data/com.termux/files/home/workflows/run_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"italic"}],"text":"job.sh"},{"type":"text","marks":[{"type":"italic"}],"text":"\""},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"```"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"> "},{"type":"text","text":"*What just happened?**  "},{"type":"hardBreak"},{"type":"text","text":"> "},{"type":"text","marks":[{"type":"italic"}],"text":" "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","marks":[{"type":"italic"}],"text":" registers a "},{"type":"text","text":"one‑time* job that will fire at the next occurrence of the cron expression.  "},{"type":"hardBreak"},{"type":"text","text":"> "},{"type":"text","marks":[{"type":"italic"}],"text":" When the job fires, the scheduler launches your wrapper script "},{"type":"text","marks":[{"type":"code"}],"text":"run_my_job.sh"},{"type":"text","marks":[{"type":"italic"}],"text":").  "},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"> "},{"type":"text","text":" The wrapper appends a timestamp and the script’s stdout/stderr to a log file so you can debug later."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### 3.5 Verify that the job is registered"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"```bash"},{"type":"hardBreak"},{"type":"text","text":"termux-job-scheduler --list"},{"type":"hardBreak"},{"type":"text","text":"# Should show something like:"},{"type":"hardBreak"},{"type":"text","text":"#   ID      | Command                                 | Next run time"},{"type":"hardBreak"},{"type":"text","text":"#   ---------------------------------------------------------------"},{"type":"hardBreak"},{"type":"text","text":"#   my_daily_job | /data/data/.../workflows/run_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.sh"},{"type":"text","text":" | 2026‑02‑12 02:30:00"},{"type":"hardBreak"},{"type":"text","text":"```"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### 3.6 Let the job survive reboots"},{"type":"hardBreak"},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":" automatically re‑registers itself after a reboot **if you add it to Termux’s “boot‑completed” receiver**. The easiest way is to install the **Termux:Boot** add‑on from F‑Droid:"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"1. Install **Termux:Boot**.  "},{"type":"hardBreak"},{"type":"text","text":"2. In Termux, run:"},{"type":"hardBreak"},{"type":"text","text":"   ```bash"},{"type":"hardBreak"},{"type":"text","text":"   termux-wake-lock   # keep CPU awake while the job runs"},{"type":"hardBreak"},{"type":"text","text":"   ```"},{"type":"hardBreak"},{"type":"text","text":"3. The "},{"type":"text","marks":[{"type":"code"}],"text":"~/.termux/boot/"},{"type":"text","text":" directory is executed on every boot, so you can place a small “re‑register” script there:"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"   ```bash"},{"type":"hardBreak"},{"type":"text","text":"   cat > ~/.termux/boot/reschedule_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}}],"text":"job.sh"},{"type":"text","text":" <<'EOF'"},{"type":"hardBreak"},{"type":"text","text":"   #!/data/data/com.termux/files/usr/bin/bash"},{"type":"hardBreak"},{"type":"text","text":"   termux-job-scheduler --job-id my_daily_job --schedule \"30 2 * * "},{"type":"text","marks":[{"type":"italic"}],"text":"\" --command \"/data/data/com.termux/files/home/workflows/run_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"italic"}],"text":"job.sh"},{"type":"text","marks":[{"type":"italic"}],"text":"\""},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"   EOF"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"   chmod +x ~/.termux/boot/reschedule_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"italic"}],"text":"job.sh"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"   ```"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"Now, after each device reboot, the scheduler will re‑create the 02:30 job automatically."},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"---"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"## 4️⃣ Alternative: Using "},{"type":"text","text":"*Tasker** (no terminal needed)"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"If you’d rather stay inside a graphical automation app:"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"| Step | Action |"},{"type":"hardBreak"},{"type":"text","text":"|------|--------|"},{"type":"hardBreak"},{"type":"text","text":"| 1. Install **Tasker** (paid) and **AutoTools** (free plugin) or **Termux** as an "},{"type":"text","marks":[{"type":"italic"}],"text":"Execute Shell"},{"type":"text","text":" action. |"},{"type":"hardBreak"},{"type":"text","text":"| 2. Create a "},{"type":"text","marks":[{"type":"italic"}],"text":"Profile"},{"type":"text","text":" → "},{"type":"text","marks":[{"type":"italic"}],"text":"Time"},{"type":"text","text":" → set the desired start/end time (e.g., 02:30, repeat daily). |"},{"type":"hardBreak"},{"type":"text","text":"| 3. In the "},{"type":"text","marks":[{"type":"italic"}],"text":"Task"},{"type":"text","text":" → "},{"type":"text","marks":[{"type":"italic"}],"text":"Run Shell"},{"type":"text","text":" → "},{"type":"text","marks":[{"type":"code"}],"text":"am startservice -n com.termux/.service.TermuxService --es \"cmd\" \"run_my_job.sh\""},{"type":"text","text":" (or directly call your script). |"},{"type":"hardBreak"},{"type":"text","text":"| 4. Enable "},{"type":"text","marks":[{"type":"italic"}],"text":"Run As Root"},{"type":"text","text":" only if your script needs elevated permissions (generally not needed). |"},{"type":"hardBreak"},{"type":"text","text":"| 5. Optionally add a "},{"type":"text","marks":[{"type":"italic"}],"text":"Notify"},{"type":"text","text":" action to let you know when it finished. |"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"**Pros:** No command‑line setup, visual UI, works even if you never open Termux.  "},{"type":"hardBreak"},{"type":"text","text":"**Cons:** Tasker’s free version can’t run background services reliably on Android 12+, and the UI can be a bit finicky for complex logic."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"## 5️⃣ Alternative: Off‑load to **GitHub Actions** (cloud scheduler)"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"If you’re comfortable pushing the "},{"type":"text","marks":[{"type":"italic"}],"text":"trigger"},{"type":"text","text":" to GitHub, you can let GitHub’s built‑in scheduler run the workflow for you, and optionally have it **SSH into your phone** (via a reverse‑ssh tunnel) or **push a notification** back to you."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### Example: a daily GitHub Actions workflow"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"```yaml"},{"type":"hardBreak"},{"type":"text","text":"# .github/workflows/daily-schedule.yml"},{"type":"hardBreak"},{"type":"text","text":"name: Daily Android Run"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"on:"},{"type":"hardBreak"},{"type":"text","text":"  schedule:"},{"type":"hardBreak"},{"type":"text","text":"    - cron: '30 2 * * "},{"type":"text","marks":[{"type":"italic"}],"text":"'   # 02:30 UTC every day"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"  workflow_dispatch:      # optional manual trigger"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"jobs:"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"  run-on-phone:"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"    runs-on: ubuntu-latest"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"    steps:"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"      - name: Checkout repo"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"        uses: actions/checkout@v4"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"      - name: Install termux-api (if you want to notify)"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"        run: |"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"          sudo apt-get update"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"          sudo apt-get install -y openssh-client"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"      - name: SSH to your phone (requires you to expose a reverse SSH tunnel)"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"        env:"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"          SSH_PRIVATE_KEY: ${{ secrets.SSH_PRIVATE_KEY }}"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"        run: |"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"          # Assuming you have a VPS that keeps a persistent SSH tunnel to your phone"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"          ssh -i /tmp/key -o StrictHostKeyChecking=no user@YOUR_PHONE_IP \"cd /path/to/repo && ./run_my_"},{"type":"text","marks":[{"type":"link","attrs":{"href":"http://job.sh","target":"_blank","rel":"noopener noreferrer nofollow","class":null}},{"type":"italic"}],"text":"job.sh"},{"type":"text","marks":[{"type":"italic"}],"text":"\""},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","marks":[{"type":"italic"}],"text":"```"},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"hardBreak","marks":[{"type":"italic"}]},{"type":"text","text":"*How to make it work:**  "},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"1. **Expose a stable endpoint** on your phone (e.g., a reverse SSH tunnel from a cheap VPS).  "},{"type":"hardBreak"},{"type":"text","text":"2. Store the private key as a GitHub secret "},{"type":"text","marks":[{"type":"code"}],"text":"SSH_PRIVATE_KEY"},{"type":"text","text":").  "},{"type":"hardBreak"},{"type":"text","text":"3. The workflow runs on GitHub’s schedule, pulls your repo, then SSHes into the phone and executes the same "},{"type":"text","marks":[{"type":"code"}],"text":"run_my_job.sh"},{"type":"text","text":" you used in Termux."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"**Pros:** No battery‑saving worries, runs even if your phone is off (as long as the tunnel stays up).  "},{"type":"hardBreak"},{"type":"text","text":"**Cons:** Requires a always‑on server or a VPS, plus a bit of networking setup."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"## 6️⃣ Summary of trade‑offs"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"| Method | Runs on phone? | Needs external server? | Battery impact | Setup effort | Reliability |"},{"type":"hardBreak"},{"type":"text","text":"|--------|----------------|------------------------|----------------|--------------|-------------|"},{"type":"hardBreak"},{"type":"text","text":"| **Termux + "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":"** | ✅ Yes | ❌ No (unless you want remote logs) | Low (runs only at scheduled minute) | Low‑moderate (install Termux, add script) | Good for simple daily/weekly jobs; survives reboot with "},{"type":"text","marks":[{"type":"code"}],"text":"Termux:Boot"},{"type":"text","text":". |"},{"type":"hardBreak"},{"type":"text","text":"| **Tasker** | ✅ Yes | ❌ No | Low‑moderate (foreground service may keep CPU awake) | Low (GUI only) | Good for quick tasks, but may be killed on newer Android versions. |"},{"type":"hardBreak"},{"type":"text","text":"| **GitHub Actions / Cloud scheduler** | ❌ No (but can trigger phone) | ✅ Yes (VPS or GitHub) | None on phone (phone only wakes when it receives a request) | Moderate‑high (networking, secrets) | Very reliable, works 24/7 regardless of phone state. |"},{"type":"hardBreak"},{"type":"text","text":"| **Cron on a VPS + SSH to phone** | ❌ No (but can push to phone) | ✅ Yes | None | Moderate | Similar to cloud, but you control the cron. |"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"Pick the one that matches **how often you need it, how much you want to rely on the phone’s battery**, and how comfortable you are with the command line."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"## 7️⃣ Quick checklist for “just get something working today”"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"1. **Install Termux** (F‑Droid).  "},{"type":"hardBreak"},{"type":"text","text":"2. **Install "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":"** "},{"type":"text","marks":[{"type":"code"}],"text":"pkg install termux-tools"},{"type":"text","text":").  "},{"type":"hardBreak"},{"type":"text","text":"3. **Copy your workflow script** into "},{"type":"text","marks":[{"type":"code"}],"text":"~/workflows/"},{"type":"text","text":".  "},{"type":"hardBreak"},{"type":"text","text":"4. **Create a wrapper** that logs output.  "},{"type":"hardBreak"},{"type":"text","text":"5. **Register a daily job** with "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler"},{"type":"text","text":".  "},{"type":"hardBreak"},{"type":"text","text":"6. **Add a boot‑complete script** "},{"type":"text","marks":[{"type":"code"}],"text":"~/.termux/boot/…"},{"type":"text","text":") to re‑register the job after reboots.  "},{"type":"hardBreak"},{"type":"text","text":"7. **Test it manually**: run the wrapper script once, check the log file.  "},{"type":"hardBreak"},{"type":"text","text":"8. **Reboot** the phone and verify the job appears again "},{"type":"text","marks":[{"type":"code"}],"text":"termux-job-scheduler --list"},{"type":"text","text":").  "},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"If it works, you now have a **self‑contained scheduled runner** on your Android device that will execute your workflow automatically at the time you chose—no external server required."},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"---"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"### Need more help?"},{"type":"hardBreak"},{"type":"hardBreak"},{"type":"text","text":"- **If your workflow needs network access** (e.g., pulling from a private Git repo), make sure Termux has the needed permissions "},{"type":"text","marks":[{"type":"code"}],"text":"termux-setup-storage"},{"type":"text","text":", "},{"type":"text","marks":[{"type":"code"}],"text":"termux-wake-lock"},{"type":"text","text":").  "},{"type":"hardBreak"},{"type":"text","text":"- **If you want to push results back to GitHub** after the run, you can add "},{"type":"text","marks":[{"type":"code"}],"text":"git push"},{"type":"text","text":" inside the script; just store a **personal access token** in "},{"type":"text","marks":[{"type":"code"}],"text":"~/.git-credentials"},{"type":"text","text":" (chmod 600).  "},{"type":"hardBreak"},{"type":"text","text":"- **If you hit “Job scheduler not firing”** after a reboot, double‑check that "},{"type":"text","marks":[{"type":"code"}],"text":"Termux:Boot"},{"type":"text","text":" is installed and that the re‑registration script is executable.  "},{"type":"hardBreak"}]}]}